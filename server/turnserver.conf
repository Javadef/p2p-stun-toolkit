# STUN Server Configuration
# Coturn 4.6.x on Ubuntu 24.04
# Similar functionality to stun.l.google.com

# =============================================================================
# LISTENING CONFIGURATION
# =============================================================================

# Primary STUN/TURN port (standard)
listening-port=3478

# Alternative port for RFC 5780 NAT behavior discovery
alt-listening-port=3479

# Listen on specific IP (replace with your server's public IP)
listening-ip=84.247.170.241

# Also listen on IPv6 if available
# listening-ip=2a02:c207:2298:6305::1

# External IP for NAT'd servers (use if server is behind NAT)
external-ip=84.247.170.241

# =============================================================================
# STUN CONFIGURATION
# =============================================================================

# Run as STUN-only server (disable TURN relay)
# Comment this out if you want TURN functionality
stun-only

# Enable fingerprints in STUN messages
fingerprint

# No authentication required (public STUN like Google's)
no-auth

# Realm for authentication (used if auth is enabled)
realm=stun.example.com

# =============================================================================
# SECURITY
# =============================================================================

# Disable TLS/DTLS (not needed for basic STUN)
no-tls
no-dtls

# For RFC 5780 NAT behavior discovery:
# - Requires TWO different public IP addresses
# - If you only have one IP, this feature won't work
# - Don't enable no-rfc5780 if you have two IPs
# no-rfc5780

# =============================================================================
# LOGGING
# =============================================================================

# Enable verbose logging (disable in production)
verbose

# Log to syslog
syslog

# Or log to file
# log-file=/var/log/turnserver.log

# =============================================================================
# PROCESS
# =============================================================================

# Run as non-root user
proc-user=turnserver
proc-group=turnserver

# Relay port range (for TURN, if enabled)
min-port=49152
max-port=65535

# =============================================================================
# OPTIONAL: TURN RELAY (uncomment to enable)
# =============================================================================

# To enable TURN relay functionality:
# 1. Comment out 'stun-only' above
# 2. Uncomment the following:

# lt-cred-mech
# user=username:password
# 
# Or use time-limited credentials:
# use-auth-secret
# static-auth-secret=your-secret-key-here

# =============================================================================
# OPTIONAL: TLS/DTLS (uncomment for secure connections)
# =============================================================================

# tls-listening-port=5349
# cert=/etc/letsencrypt/live/stun.example.com/fullchain.pem
# pkey=/etc/letsencrypt/live/stun.example.com/privkey.pem
